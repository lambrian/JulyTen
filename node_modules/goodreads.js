var Loggr = require('loggr');
var request = require('request');
var CronJob = require('cron').CronJob;

var userID = "2520705";
var categoryID = "PagesRead3251990";

exports.start = function(loggr) {
  sync(loggr);
  startCronJob(loggr);
};

var sync = function() {
  // set date of latest status update that was not in the database
};

var startCronJob = function() {
  new CronJob('* * * * * *', function() {
    // pull statuses until reach the latest status update
    // push to server and push to in memory array
  }, null, true, null);
};


request(
  "https://ajax.googleapis.com/ajax/services/feed/load?v=2.0&q=https://www.goodreads.com/user_status/list/2520705-brian?format=rss",
  function(error, response, body) {
    console.log(body.responseData);
  });
